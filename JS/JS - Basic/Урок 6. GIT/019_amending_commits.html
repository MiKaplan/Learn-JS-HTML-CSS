<html>
<head>
    <title>GIT</title>
    <style type="text/css">
        body {
            background: #f2f2f2;
            width: 80%;
            margin: auto;
            font-size: 20px;
            font-family: Arial;
        }
        code, pre {
            background: #ccc;
            padding: 5px;
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
            border-top-right-radius: 5px;
            margin: 0px 0px 20px
        }
        h4 {
            margin: 0px;
            background: #aaa;
            display: inline-block;
            border-top-left-radius: 5px;
            border-top-right-radius: 5px;
            padding: 5px;
        }

    </style>
    <link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>
<h1 class="title">19. Внесение изменений в коммиты</h1>
<h3>Цели</h3>

<ul><li>Научиться изменять существующие коммиты</li></ul>

<h2><em>01</em> Измените страницу, а затем сделайте коммит</h2>

<p>Добавьте в страницу комментарий автора.</p>

<h4>Файл: <em style="text-transform: none">hello.html</em></h4>

<pre class="file">
    <strong>&lt;!-- Author: Alexander Shvets --&gt;</strong>
    &lt;html&gt;
      &lt;head&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;h1&gt;Hello, World!&lt;/h1&gt;
      &lt;/body&gt;
    &lt;/html&gt;</pre>

<h4>Выполните:</h4>

<pre>
    git add hello.html
    git commit -m "Add an author comment"</pre>

<h2><em>02</em> Ой... необходим email</h2>

<p>После совершения коммита вы понимаете, что любой хороший комментарий должен включать электронную почту автора. Обновите страницу hello, включив в нее email.</p>

<h4>Файл: <em style="text-transform: none">hello.html</em></h4>

<pre class="file">
    <strong>&lt;!-- Author: Alexander Shvets (alex@githowto.com) --&gt;</strong>
    &lt;html&gt;
      &lt;head&gt;
      &lt;/head&gt;
      &lt;body&gt;
        &lt;h1&gt;Hello, World!&lt;/h1&gt;
      &lt;/body&gt;
    &lt;/html&gt;</pre>

<h2><em>03</em> Измените предыдущий коммит</h2>

<p>Мы действительно не хотим создавать отдельный коммит только ради электронной почты. Давайте изменим предыдущий коммит, включив в него адрес электронной почты.</p>

<h4>Выполните:</h4>

<pre>
    git add hello.html
    git commit --amend -m "Add an author/email comment"</pre>

<h4>Результат:</h4>

<pre>
    $ git add hello.html
    $ git commit --amend -m "Add an author/email comment"
    [master 6a78635] Add an author/email comment
     1 files changed, 2 insertions(+), 1 deletions(-)</pre>

<h2><em>04</em> Просмотр истории</h2>

<h4>Выполните:</h4>

<pre>
    git hist</pre>

<h4>Результат:</h4>

<pre>
    $ git hist
    * 6a78635 2011-03-09 | Add an author/email comment (HEAD, master) [Alexander Shvets]
    * fa3c141 2011-03-09 | Added HTML header (v1) [Alexander Shvets]
    * 8c32287 2011-03-09 | Added standard HTML page tags (v1-beta) [Alexander Shvets]
    * 43628f7 2011-03-09 | Added h1 tag [Alexander Shvets]
    * 911e8c9 2011-03-09 | First Commit [Alexander Shvets]</pre>

<p>Мы можем увидеть, что оригинальный коммит «автор» заменен коммитом «автор/email». Этого же эффекта можно достичь путем сброса последнего коммита в ветке, и повторного коммита новых изменений.</p>

</body>
</html>
